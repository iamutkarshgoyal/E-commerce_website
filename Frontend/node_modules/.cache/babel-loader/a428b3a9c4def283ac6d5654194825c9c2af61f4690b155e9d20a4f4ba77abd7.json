{"ast":null,"code":"var _jsxFileName = \"/Users/utkarshgoyal/new_website/my_project/Frontend/src/MyComponents/Shop.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport ProductCard from \"./Product Card\"; // ✅ Ensure filename matches\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Shop = ({\n  gender\n}) => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [totalPages, setTotalPages] = useState(1);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const productsPerPage = 20;\n\n  // ✅ Fetch products whenever gender or page changes\n  useEffect(() => {\n    const fetchProducts = async () => {\n      setLoading(true);\n      setError(\"\");\n      const skip = (currentPage - 1) * productsPerPage;\n      const url = `http://localhost:8000/products/?skip=${skip}&limit=${productsPerPage}&gender=${gender}`;\n      try {\n        const res = await fetch(url);\n        if (!res.ok) throw new Error(`HTTP error: ${res.status}`);\n        const data = await res.json();\n        console.log(\"✅ Products fetched:\", data);\n        setProducts(data.data || []);\n        setTotalPages(data.pages || 1);\n      } catch (err) {\n        console.error(\"❌ Error fetching products:\", err);\n        setError(\"Failed to load products. Please try again later.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProducts();\n  }, [gender, currentPage]);\n\n  // ✅ Reset to page 1 when gender changes\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [gender]);\n  const handlePageChange = event => {\n    setCurrentPage(Number(event.target.value));\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\"\n    });\n  };\n  const handlePrevPage = () => {\n    if (currentPage > 1) setCurrentPage(prev => prev - 1);\n  };\n  const handleNextPage = () => {\n    if (currentPage < totalPages) setCurrentPage(prev => prev + 1);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shop-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"shop-title\",\n        children: [gender, \" Collection\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading products...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this) : products.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-list\",\n        children: products.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n          ...product\n        }, product.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"No products found for \", gender, \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePrevPage,\n          disabled: currentPage === 1,\n          className: \"pagination-btn\",\n          children: \"\\u2B05 Prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"page-select\",\n          children: \"Page:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"page-select\",\n          value: currentPage,\n          onChange: handlePageChange,\n          children: Array.from({\n            length: totalPages\n          }, (_, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: i + 1,\n            children: i + 1\n          }, i + 1, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\xA0of \", totalPages]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNextPage,\n          disabled: currentPage === totalPages,\n          className: \"pagination-btn\",\n          children: \"Next \\u27A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .shop-container {\n          text-align: center;\n          padding: 20px;\n        }\n\n        .shop-title {\n          font-size: 2rem;\n          font-weight: bold;\n          margin-bottom: 30px;\n        }\n\n        .error-message {\n          color: red;\n          font-weight: bold;\n          margin-top: 20px;\n        }\n\n        .product-list {\n          display: flex;\n          flex-wrap: wrap;\n          justify-content: center;\n          gap: 25px;\n        }\n\n        .pagination-container {\n          margin-top: 30px;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          gap: 10px;\n        }\n\n        .pagination-btn {\n          background-color: #000;\n          color: white;\n          padding: 8px 15px;\n          border: none;\n          border-radius: 5px;\n          cursor: pointer;\n          font-weight: 600;\n          transition: all 0.3s ease;\n        }\n\n        .pagination-btn:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n\n        .pagination-btn:hover:not(:disabled) {\n          background-color: #333;\n        }\n\n        select {\n          padding: 5px 10px;\n          border-radius: 5px;\n          font-weight: 500;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Shop, \"4TNlzmCuj4qQv2NWZcLEFn45SPY=\");\n_c = Shop;\nexport default Shop;\nvar _c;\n$RefreshReg$(_c, \"Shop\");","map":{"version":3,"names":["React","useState","useEffect","ProductCard","jsxDEV","_jsxDEV","Fragment","_Fragment","Shop","gender","_s","products","setProducts","totalPages","setTotalPages","currentPage","setCurrentPage","loading","setLoading","error","setError","productsPerPage","fetchProducts","skip","url","res","fetch","ok","Error","status","data","json","console","log","pages","err","handlePageChange","event","Number","target","value","window","scrollTo","top","behavior","handlePrevPage","prev","handleNextPage","children","className","fileName","_jsxFileName","lineNumber","columnNumber","length","map","product","id","onClick","disabled","htmlFor","onChange","Array","from","_","i","_c","$RefreshReg$"],"sources":["/Users/utkarshgoyal/new_website/my_project/Frontend/src/MyComponents/Shop.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ProductCard from \"./Product Card\"; // ✅ Ensure filename matches\n\nconst Shop = ({ gender }) => {\n  const [products, setProducts] = useState([]);\n  const [totalPages, setTotalPages] = useState(1);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const productsPerPage = 20;\n\n  // ✅ Fetch products whenever gender or page changes\n  useEffect(() => {\n    const fetchProducts = async () => {\n      setLoading(true);\n      setError(\"\");\n\n      const skip = (currentPage - 1) * productsPerPage;\n      const url = `http://localhost:8000/products/?skip=${skip}&limit=${productsPerPage}&gender=${gender}`;\n\n      try {\n        const res = await fetch(url);\n        if (!res.ok) throw new Error(`HTTP error: ${res.status}`);\n\n        const data = await res.json();\n        console.log(\"✅ Products fetched:\", data);\n\n        setProducts(data.data || []);\n        setTotalPages(data.pages || 1);\n      } catch (err) {\n        console.error(\"❌ Error fetching products:\", err);\n        setError(\"Failed to load products. Please try again later.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProducts();\n  }, [gender, currentPage]);\n\n  // ✅ Reset to page 1 when gender changes\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [gender]);\n\n  const handlePageChange = (event) => {\n    setCurrentPage(Number(event.target.value));\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  };\n\n  const handlePrevPage = () => {\n    if (currentPage > 1) setCurrentPage((prev) => prev - 1);\n  };\n\n  const handleNextPage = () => {\n    if (currentPage < totalPages) setCurrentPage((prev) => prev + 1);\n  };\n\n  return (\n    <>\n      <div className=\"shop-container\">\n        <h1 className=\"shop-title\">{gender} Collection</h1>\n\n        {loading ? (\n          <p>Loading products...</p>\n        ) : error ? (\n          <p className=\"error-message\">{error}</p>\n        ) : products.length > 0 ? (\n          <div className=\"product-list\">\n            {products.map((product) => (\n              <ProductCard key={product.id} {...product} />\n            ))}\n          </div>\n        ) : (\n          <p>No products found for {gender}.</p>\n        )}\n\n        {/* 🧭 Pagination Controls */}\n        {totalPages > 1 && (\n          <div className=\"pagination-container\">\n            <button\n              onClick={handlePrevPage}\n              disabled={currentPage === 1}\n              className=\"pagination-btn\"\n            >\n              ⬅ Prev\n            </button>\n\n            <label htmlFor=\"page-select\">Page:</label>\n            <select\n              id=\"page-select\"\n              value={currentPage}\n              onChange={handlePageChange}\n            >\n              {Array.from({ length: totalPages }, (_, i) => (\n                <option key={i + 1} value={i + 1}>\n                  {i + 1}\n                </option>\n              ))}\n            </select>\n\n            <span>&nbsp;of {totalPages}</span>\n\n            <button\n              onClick={handleNextPage}\n              disabled={currentPage === totalPages}\n              className=\"pagination-btn\"\n            >\n              Next ➡\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* 💅 Styles */}\n      <style>{`\n        .shop-container {\n          text-align: center;\n          padding: 20px;\n        }\n\n        .shop-title {\n          font-size: 2rem;\n          font-weight: bold;\n          margin-bottom: 30px;\n        }\n\n        .error-message {\n          color: red;\n          font-weight: bold;\n          margin-top: 20px;\n        }\n\n        .product-list {\n          display: flex;\n          flex-wrap: wrap;\n          justify-content: center;\n          gap: 25px;\n        }\n\n        .pagination-container {\n          margin-top: 30px;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          gap: 10px;\n        }\n\n        .pagination-btn {\n          background-color: #000;\n          color: white;\n          padding: 8px 15px;\n          border: none;\n          border-radius: 5px;\n          cursor: pointer;\n          font-weight: 600;\n          transition: all 0.3s ease;\n        }\n\n        .pagination-btn:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n\n        .pagination-btn:hover:not(:disabled) {\n          background-color: #333;\n        }\n\n        select {\n          padding: 5px 10px;\n          border-radius: 5px;\n          font-weight: 500;\n        }\n      `}</style>\n    </>\n  );\n};\n\nexport default Shop;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,WAAW,MAAM,gBAAgB,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE1C,MAAMC,IAAI,GAAGA,CAAC;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EAC3B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACY,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACc,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACkB,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMoB,eAAe,GAAG,EAAE;;EAE1B;EACAnB,SAAS,CAAC,MAAM;IACd,MAAMoB,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChCJ,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,EAAE,CAAC;MAEZ,MAAMG,IAAI,GAAG,CAACR,WAAW,GAAG,CAAC,IAAIM,eAAe;MAChD,MAAMG,GAAG,GAAG,wCAAwCD,IAAI,UAAUF,eAAe,WAAWZ,MAAM,EAAE;MAEpG,IAAI;QACF,MAAMgB,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAG,CAAC;QAC5B,IAAI,CAACC,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,eAAeH,GAAG,CAACI,MAAM,EAAE,CAAC;QAEzD,MAAMC,IAAI,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,CAAC;QAC7BC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEH,IAAI,CAAC;QAExClB,WAAW,CAACkB,IAAI,CAACA,IAAI,IAAI,EAAE,CAAC;QAC5BhB,aAAa,CAACgB,IAAI,CAACI,KAAK,IAAI,CAAC,CAAC;MAChC,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZH,OAAO,CAACb,KAAK,CAAC,4BAA4B,EAAEgB,GAAG,CAAC;QAChDf,QAAQ,CAAC,kDAAkD,CAAC;MAC9D,CAAC,SAAS;QACRF,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDI,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAACb,MAAM,EAAEM,WAAW,CAAC,CAAC;;EAEzB;EACAb,SAAS,CAAC,MAAM;IACdc,cAAc,CAAC,CAAC,CAAC;EACnB,CAAC,EAAE,CAACP,MAAM,CAAC,CAAC;EAEZ,MAAM2B,gBAAgB,GAAIC,KAAK,IAAK;IAClCrB,cAAc,CAACsB,MAAM,CAACD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC;IAC1CC,MAAM,CAACC,QAAQ,CAAC;MAAEC,GAAG,EAAE,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EACjD,CAAC;EAED,MAAMC,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAI9B,WAAW,GAAG,CAAC,EAAEC,cAAc,CAAE8B,IAAI,IAAKA,IAAI,GAAG,CAAC,CAAC;EACzD,CAAC;EAED,MAAMC,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAIhC,WAAW,GAAGF,UAAU,EAAEG,cAAc,CAAE8B,IAAI,IAAKA,IAAI,GAAG,CAAC,CAAC;EAClE,CAAC;EAED,oBACEzC,OAAA,CAAAE,SAAA;IAAAyC,QAAA,gBACE3C,OAAA;MAAK4C,SAAS,EAAC,gBAAgB;MAAAD,QAAA,gBAC7B3C,OAAA;QAAI4C,SAAS,EAAC,YAAY;QAAAD,QAAA,GAAEvC,MAAM,EAAC,aAAW;MAAA;QAAAyC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAElDpC,OAAO,gBACNZ,OAAA;QAAA2C,QAAA,EAAG;MAAmB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,GACxBlC,KAAK,gBACPd,OAAA;QAAG4C,SAAS,EAAC,eAAe;QAAAD,QAAA,EAAE7B;MAAK;QAAA+B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,GACtC1C,QAAQ,CAAC2C,MAAM,GAAG,CAAC,gBACrBjD,OAAA;QAAK4C,SAAS,EAAC,cAAc;QAAAD,QAAA,EAC1BrC,QAAQ,CAAC4C,GAAG,CAAEC,OAAO,iBACpBnD,OAAA,CAACF,WAAW;UAAA,GAAsBqD;QAAO,GAAvBA,OAAO,CAACC,EAAE;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAgB,CAC7C;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,gBAENhD,OAAA;QAAA2C,QAAA,GAAG,wBAAsB,EAACvC,MAAM,EAAC,GAAC;MAAA;QAAAyC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CACtC,EAGAxC,UAAU,GAAG,CAAC,iBACbR,OAAA;QAAK4C,SAAS,EAAC,sBAAsB;QAAAD,QAAA,gBACnC3C,OAAA;UACEqD,OAAO,EAAEb,cAAe;UACxBc,QAAQ,EAAE5C,WAAW,KAAK,CAAE;UAC5BkC,SAAS,EAAC,gBAAgB;UAAAD,QAAA,EAC3B;QAED;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAEThD,OAAA;UAAOuD,OAAO,EAAC,aAAa;UAAAZ,QAAA,EAAC;QAAK;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC1ChD,OAAA;UACEoD,EAAE,EAAC,aAAa;UAChBjB,KAAK,EAAEzB,WAAY;UACnB8C,QAAQ,EAAEzB,gBAAiB;UAAAY,QAAA,EAE1Bc,KAAK,CAACC,IAAI,CAAC;YAAET,MAAM,EAAEzC;UAAW,CAAC,EAAE,CAACmD,CAAC,EAAEC,CAAC,kBACvC5D,OAAA;YAAoBmC,KAAK,EAAEyB,CAAC,GAAG,CAAE;YAAAjB,QAAA,EAC9BiB,CAAC,GAAG;UAAC,GADKA,CAAC,GAAG,CAAC;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEV,CACT;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC,eAEThD,OAAA;UAAA2C,QAAA,GAAM,SAAS,EAACnC,UAAU;QAAA;UAAAqC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAElChD,OAAA;UACEqD,OAAO,EAAEX,cAAe;UACxBY,QAAQ,EAAE5C,WAAW,KAAKF,UAAW;UACrCoC,SAAS,EAAC,gBAAgB;UAAAD,QAAA,EAC3B;QAED;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGNhD,OAAA;MAAA2C,QAAA,EAAQ;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA,eACV,CAAC;AAEP,CAAC;AAAC3C,EAAA,CA7KIF,IAAI;AAAA0D,EAAA,GAAJ1D,IAAI;AA+KV,eAAeA,IAAI;AAAC,IAAA0D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}